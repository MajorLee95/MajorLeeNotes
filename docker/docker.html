
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <meta charset="utf-8" />
    <title>Docker &#8212; Documentation MajorLee&#39;s notes </title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="Arduino" href="../arduino/arduino.html" />
    <link rel="prev" title="Notes sur git" href="../git/git.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../arduino/arduino.html" title="Arduino"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="../git/git.html" title="Notes sur git"
             accesskey="P">précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation MajorLee&#39;s notes </a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="docker">
<h1><a class="toc-backref" href="#sommaire">Docker</a><a class="headerlink" href="#docker" title="Lien permanent vers ce titre">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Auteur</dt>
<dd class="field-odd"><p>J.Soranzo</p>
</dd>
<dt class="field-even">Date</dt>
<dd class="field-even"><p>Janvier 2020 2019</p>
</dd>
<dt class="field-odd">Societe</dt>
<dd class="field-odd"><p>VoLAB</p>
</dd>
<dt class="field-even">Entity</dt>
<dd class="field-even"><p>VoRoBoTics</p>
</dd>
</dl>
<div class="contents topic" id="sommaire">
<p class="topic-title">Sommaire</p>
<ul class="simple">
<li><p><a class="reference internal" href="#docker" id="id26">Docker</a></p>
<ul>
<li><p><a class="reference internal" href="#start-up" id="id27">Start-up</a></p></li>
<li><p><a class="reference internal" href="#notes" id="id28">Notes</a></p></li>
<li><p><a class="reference internal" href="#documentation" id="id29">Documentation</a></p></li>
<li><p><a class="reference internal" href="#commandes-principales" id="id30">Commandes principales</a></p></li>
<li><p><a class="reference internal" href="#creer-une-images" id="id31">Créer une images</a></p>
<ul>
<li><p><a class="reference internal" href="#syntaxe-des-fichiers-dockerfile" id="id32">Syntaxe des fichiers Dockerfile</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#syntaxe-des-fichiers-docker-compose" id="id33">Syntaxe des fichiers Docker compose</a></p></li>
<li><p><a class="reference internal" href="#piloter-un-port-serie-de-la-machine-hote" id="id34">Piloter un port série de la machine hote</a></p></li>
<li><p><a class="reference internal" href="#my-tips" id="id35">My tips</a></p></li>
<li><p><a class="reference internal" href="#weblinks" id="id36">Weblinks</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="start-up">
<h2><a class="toc-backref" href="#sommaire">Start-up</a><a class="headerlink" href="#start-up" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pas la même install qu’il s’agisse de Windwos10pro d’un côté et Windwos10 family ou 7 de l’autre</p>
<p><a class="reference external" href="https://poltergeist42.github.io/JDM/Docker.html">Note Docker Pierre</a> <a class="footnote-reference brackets" href="#id1" id="id2">1</a></p>
<p><a class="reference external" href="https://openclassrooms.com/fr/courses/2035766-optimisez-votre-deploiement-en-creant-des-conteneurs-avec-docker/6211306-decouvrez-les-conteneurs">Docker sur Openclassroom</a> <a class="footnote-reference brackets" href="#id4" id="id5">2</a></p>
<p>Je me permet un petit commentaire sur ce cours. Il n’est vraiment pas terrible !</p>
<p>Une pauvre recette de cuisine sur dockerfile et sur compose très incomplète.</p>
<p>Par exemple on y évoque pas le partage de volume.</p>
<p>L’exercice de fin de chapitre sur nginx est juste une blague ! Attention tips, on ne demande pas
de démarrer le serveur nginx ni même de la paraméter, juste de l’installer ! Faites au plus
simple</p>
<ul class="simple">
<li><p>Docker Community Edition (Linux seulement) ;</p></li>
<li><p>Docker Desktop (Mac ou Windows) ;</p></li>
<li><p>Docker Enterprise (Linux seulement).</p></li>
<li><p>Docker toolbox (Pour wondows 7 par exemple)</p></li>
</ul>
<p>Un bon tut, je crois : <a class="reference external" href="https://docker-curriculum.com/">docker-curriculum</a> <a class="footnote-reference brackets" href="#id6" id="id7">3</a></p>
</div>
<div class="section" id="notes">
<h2><a class="toc-backref" href="#sommaire">Notes</a><a class="headerlink" href="#notes" title="Lien permanent vers ce titre">¶</a></h2>
<p>Par principe Docker ne doit faire tourner qu’un seul processus.</p>
<p>Ainsi, dans le cas d’une stack LAMP (Linux, Apache, MySQL, PHP), nous devons créer 3 conteneurs
différents, un pour Apache, un pour MySQL et un dernier pour PHP.</p>
<p>Stateful et Stateless</p>
<p>Immutable</p>
<p>Ce que c’est</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Docker</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">platform</span> <span class="k">for</span> <span class="n">developers</span> <span class="ow">and</span> <span class="n">sysadmins</span> <span class="n">to</span> <span class="n">build</span><span class="p">,</span> <span class="n">share</span><span class="p">,</span> <span class="ow">and</span> <span class="n">run</span> <span class="n">applications</span><span class="o">.</span>
</pre></div>
</div>
<p>ça c’est la <a class="reference external" href="https://docs.docker.com/get-started/">définition officielle</a> <a class="footnote-reference brackets" href="#id8" id="id9">4</a> . Cela ne dit pas développer de quelles applications. Le gros sous
entendu c’est que ce sont des applications plutôt à forte propention WEB.</p>
</div>
<div class="section" id="documentation">
<h2><a class="toc-backref" href="#sommaire">Documentation</a><a class="headerlink" href="#documentation" title="Lien permanent vers ce titre">¶</a></h2>
<p>Officiellement c’est là : <a class="reference external" href="https://docs.docker.com/">Docker’s documentation</a> <a class="footnote-reference brackets" href="#id10" id="id11">5</a></p>
<p>Mais c’est mieux de commencer par l”<a class="reference external" href="https://docs.docker.com/install/">onglet Product manual</a> <a class="footnote-reference brackets" href="#id12" id="id13">6</a> et plus particulièrement avec les</p>
<p><a class="reference external" href="https://docs.docker.com/docker-for-windows/">docker for Windows</a> <a class="footnote-reference brackets" href="#id14" id="id15">7</a>, <a class="reference external" href="https://docs.docker.com/docker-for-mac/">docker for Mac</a> <a class="footnote-reference brackets" href="#id16" id="id17">8</a></p>
<p>La référence pour les options et commandes de la ligne de commande est:
<a class="reference external" href="https://docs.docker.com/engine/reference/commandline/cli/">Use the Docker command line</a> <a class="footnote-reference brackets" href="#id18" id="id19">9</a></p>
</div>
<div class="section" id="commandes-principales">
<h2><a class="toc-backref" href="#sommaire">Commandes principales</a><a class="headerlink" href="#commandes-principales" title="Lien permanent vers ce titre">¶</a></h2>
<p>Voir sur <a class="reference external" href="https://poltergeist42.github.io/JDM/Docker.html">Note Docker Pierre</a> <a class="footnote-reference brackets" href="#id1" id="id3">1</a> il y a tout ce qu’il faut !</p>
<p>Cheatsheet ?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">d</span> <span class="o">-</span><span class="n">p</span> <span class="mi">8080</span><span class="p">:</span><span class="mi">80</span> <span class="n">nginx</span>
<span class="n">docker</span> <span class="n">images</span> <span class="o">&lt;=&gt;</span> <span class="n">docker</span> <span class="n">image</span> <span class="n">ls</span>
<span class="n">docker</span> <span class="n">ps</span> <span class="o">-</span><span class="n">a</span>
<span class="n">docker</span> <span class="n">rmi</span> <span class="p">:</span> <span class="n">remove</span> <span class="n">specific</span> <span class="n">image</span>
<span class="n">docker</span> <span class="n">restart</span>
<span class="n">docker</span> <span class="n">build</span> <span class="o">-</span><span class="n">t</span> <span class="n">_nom</span> <span class="o">.</span>
<span class="n">docker</span> <span class="n">container</span> <span class="n">prune</span>
<span class="n">docker</span> <span class="n">run</span> <span class="o">--</span><span class="n">interactive</span> <span class="o">--</span><span class="n">tty</span> <span class="n">ubuntu</span> <span class="n">bash</span>
</pre></div>
</div>
<p>On ne le dira jamais assez :</p>
<p>Do not use PowerShell ISE</p>
<p>Interactive terminals do not work in PowerShell ISE (but they do in PowerShell).
See docker/for-win/issues/223.</p>
</div>
<div class="section" id="creer-une-images">
<h2><a class="toc-backref" href="#sommaire">Créer une images</a><a class="headerlink" href="#creer-une-images" title="Lien permanent vers ce titre">¶</a></h2>
<p>Dans un répertoire vierge créer un fichier nommer Dosckerfile</p>
<p>Lancer la commande docker build (éventuellement avec -t pour préciser un nom d’image)</p>
<div class="section" id="syntaxe-des-fichiers-dockerfile">
<h3><a class="toc-backref" href="#sommaire">Syntaxe des fichiers Dockerfile</a><a class="headerlink" href="#syntaxe-des-fichiers-dockerfile" title="Lien permanent vers ce titre">¶</a></h3>
<p><a class="reference external" href="https://docs.docker.com/engine/reference/builder/">Docker file ref</a> <a class="footnote-reference brackets" href="#id20" id="id21">10</a></p>
<p>La commande pour compiler ET lancer, la plus simple, est alors</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">build</span> <span class="o">.</span>
</pre></div>
</div>
<p>Il est bon aussi de bien lire : <a class="reference external" href="https://docs.docker.com/develop/develop-images/dockerfile_best-practices/">Best practices for writing Dockerfiles</a> <a class="footnote-reference brackets" href="#id22" id="id23">11</a></p>
</div>
</div>
<div class="section" id="syntaxe-des-fichiers-docker-compose">
<h2><a class="toc-backref" href="#sommaire">Syntaxe des fichiers Docker compose</a><a class="headerlink" href="#syntaxe-des-fichiers-docker-compose" title="Lien permanent vers ce titre">¶</a></h2>
<p>Docker compose permet de lancer plusieurs images en même temps.</p>
<p>Dans un répertoire vide (conseillé) créer un fichier docker-compose.yml</p>
<p><a class="reference external" href="https://docs.docker.com/compose/compose-file/">Compose file version 3 reference</a> <a class="footnote-reference brackets" href="#id24" id="id25">12</a></p>
</div>
<div class="section" id="piloter-un-port-serie-de-la-machine-hote">
<h2><a class="toc-backref" href="#sommaire">Piloter un port série de la machine hote</a><a class="headerlink" href="#piloter-un-port-serie-de-la-machine-hote" title="Lien permanent vers ce titre">¶</a></h2>
<p><a class="reference external" href="https://www.losant.com/blog/how-to-access-serial-devices-in-docker">https://www.losant.com/blog/how-to-access-serial-devices-in-docker</a></p>
</div>
<div class="section" id="my-tips">
<h2><a class="toc-backref" href="#sommaire">My tips</a><a class="headerlink" href="#my-tips" title="Lien permanent vers ce titre">¶</a></h2>
<p id="index-0">Disque image locations : peut-être configurer dans la fenêtre setting de docker onglet Ressources/
advanced</p>
<dl class="simple" id="index-1">
<dt>Partage de données entre hôte et containers ::</dt><dd><p>File sharing is required for mounting volumes in Linux containers, not for Windows containers.
For Linux containers, you need to share the drive where the Dockerfile and volume are located.
Otherwise, you get file not found or cannot start service errors at runtime.
See Volume mounting requires shared drives for Linux containers.</p>
</dd>
</dl>
<p>Docker dashboard : gestion interractive graphique des container/appli compose
<strong>en cours d’éxécution</strong></p>
</div>
<div class="section" id="weblinks">
<h2><a class="toc-backref" href="#sommaire">Weblinks</a><a class="headerlink" href="#weblinks" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="footnote brackets">
<dt class="label" id="id1"><span class="brackets">1</span><span class="fn-backref">(<a href="#id2">1</a>,<a href="#id3">2</a>)</span></dt>
<dd><p><a class="reference external" href="https://poltergeist42.github.io/JDM/Docker.html">https://poltergeist42.github.io/JDM/Docker.html</a></p>
</dd>
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="#id5">2</a></span></dt>
<dd><p><a class="reference external" href="https://openclassrooms.com/fr/courses/2035766-optimisez-votre-deploiement-en-creant-des-conteneurs-avec-docker/6211306-decouvrez-les-conteneurs">https://openclassrooms.com/fr/courses/2035766-optimisez-votre-deploiement-en-creant-des-conteneurs-avec-docker/6211306-decouvrez-les-conteneurs</a></p>
</dd>
<dt class="label" id="id6"><span class="brackets"><a class="fn-backref" href="#id7">3</a></span></dt>
<dd><p><a class="reference external" href="https://docker-curriculum.com/">https://docker-curriculum.com/</a></p>
</dd>
<dt class="label" id="id8"><span class="brackets"><a class="fn-backref" href="#id9">4</a></span></dt>
<dd><p><a class="reference external" href="https://docs.docker.com/get-started/">https://docs.docker.com/get-started/</a></p>
</dd>
<dt class="label" id="id10"><span class="brackets"><a class="fn-backref" href="#id11">5</a></span></dt>
<dd><p><a class="reference external" href="https://docs.docker.com/">https://docs.docker.com/</a></p>
</dd>
<dt class="label" id="id12"><span class="brackets"><a class="fn-backref" href="#id13">6</a></span></dt>
<dd><p><a class="reference external" href="https://docs.docker.com/install/">https://docs.docker.com/install/</a></p>
</dd>
<dt class="label" id="id14"><span class="brackets"><a class="fn-backref" href="#id15">7</a></span></dt>
<dd><p><a class="reference external" href="https://docs.docker.com/docker-for-windows/">https://docs.docker.com/docker-for-windows/</a></p>
</dd>
<dt class="label" id="id16"><span class="brackets"><a class="fn-backref" href="#id17">8</a></span></dt>
<dd><p><a class="reference external" href="https://docs.docker.com/docker-for-mac/">https://docs.docker.com/docker-for-mac/</a></p>
</dd>
<dt class="label" id="id18"><span class="brackets"><a class="fn-backref" href="#id19">9</a></span></dt>
<dd><p><a class="reference external" href="https://docs.docker.com/engine/reference/commandline/cli/">https://docs.docker.com/engine/reference/commandline/cli/</a></p>
</dd>
<dt class="label" id="id20"><span class="brackets"><a class="fn-backref" href="#id21">10</a></span></dt>
<dd><p><a class="reference external" href="https://docs.docker.com/engine/reference/builder/">https://docs.docker.com/engine/reference/builder/</a></p>
</dd>
<dt class="label" id="id22"><span class="brackets"><a class="fn-backref" href="#id23">11</a></span></dt>
<dd><p><a class="reference external" href="https://docs.docker.com/develop/develop-images/dockerfile_best-practices/">https://docs.docker.com/develop/develop-images/dockerfile_best-practices/</a></p>
</dd>
<dt class="label" id="id24"><span class="brackets"><a class="fn-backref" href="#id25">12</a></span></dt>
<dd><p><a class="reference external" href="https://docs.docker.com/compose/compose-file/">https://docs.docker.com/compose/compose-file/</a></p>
</dd>
</dl>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table des matières</a></h3>
  <ul>
<li><a class="reference internal" href="#">Docker</a><ul>
<li><a class="reference internal" href="#start-up">Start-up</a></li>
<li><a class="reference internal" href="#notes">Notes</a></li>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
<li><a class="reference internal" href="#commandes-principales">Commandes principales</a></li>
<li><a class="reference internal" href="#creer-une-images">Créer une images</a><ul>
<li><a class="reference internal" href="#syntaxe-des-fichiers-dockerfile">Syntaxe des fichiers Dockerfile</a></li>
</ul>
</li>
<li><a class="reference internal" href="#syntaxe-des-fichiers-docker-compose">Syntaxe des fichiers Docker compose</a></li>
<li><a class="reference internal" href="#piloter-un-port-serie-de-la-machine-hote">Piloter un port série de la machine hote</a></li>
<li><a class="reference internal" href="#my-tips">My tips</a></li>
<li><a class="reference internal" href="#weblinks">Weblinks</a></li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="../git/git.html"
                        title="Chapitre précédent">Notes sur git</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="../arduino/arduino.html"
                        title="Chapitre suivant">Arduino</a></p>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/docker/docker.rst.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="../arduino/arduino.html" title="Arduino"
             >suivant</a> |</li>
        <li class="right" >
          <a href="../git/git.html" title="Notes sur git"
             >précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation MajorLee&#39;s notes </a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, J.SORANZO.
      Créé avec <a href="http://sphinx-doc.org/">Sphinx</a> 2.3.1.
    </div>
  </body>
</html>