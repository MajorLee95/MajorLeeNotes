
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <meta charset="utf-8" />
    <title>Notes sur git &#8212; Documentation MajorLee&#39;s notes </title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="Docker" href="../docker/docker.html" />
    <link rel="prev" title="Documenter" href="../documenter/documenter.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../docker/docker.html" title="Docker"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="../documenter/documenter.html" title="Documenter"
             accesskey="P">précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation MajorLee&#39;s notes </a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="notes-sur-git">
<span id="index-0"></span><h1><a class="toc-backref" href="#sommaire">Notes sur git</a><a class="headerlink" href="#notes-sur-git" title="Lien permanent vers ce titre">¶</a></h1>
<a class="reference internal image-reference" href="../_images/gitLogo.png"><img alt="git logo" class="align-left" src="../_images/gitLogo.png" style="height: 100px;" /></a>
<dl class="field-list simple">
<dt class="field-odd">Auteur</dt>
<dd class="field-odd"><p>J.Soranzo</p>
</dd>
<dt class="field-even">Date</dt>
<dd class="field-even"><p>Novembre 2019</p>
</dd>
<dt class="field-odd">Societe</dt>
<dd class="field-odd"><p>VoLAB</p>
</dd>
<dt class="field-even">Entity</dt>
<dd class="field-even"><p>VoRoBoTics</p>
</dd>
</dl>
<p><div class="clearer"></div></p>
<div class="contents topic" id="sommaire">
<p class="topic-title first">Sommaire</p>
<ul class="simple">
<li><p><a class="reference internal" href="#notes-sur-git" id="id7">Notes sur git</a></p>
<ul>
<li><p><a class="reference internal" href="#git" id="id8">git</a></p></li>
<li><p><a class="reference internal" href="#petits-trucs-utiles" id="id9">petits trucs utiles</a></p>
<ul>
<li><p><a class="reference internal" href="#logiciels" id="id10">Logiciels</a></p></li>
<li><p><a class="reference internal" href="#suppression-d-un-fichier" id="id11">Suppression d’un fichier</a></p></li>
<li><p><a class="reference internal" href="#lister-les-fichiers-indexe" id="id12">lister les fichiers indexé</a></p></li>
<li><p><a class="reference internal" href="#mais-vers-ou-pointe-origine" id="id13">Mais vers ou pointe origine</a></p></li>
<li><p><a class="reference internal" href="#merger-un-seul-fichier" id="id14">merger un seul fichier</a></p></li>
<li><p><a class="reference internal" href="#ecraser-les-derniere-modif-qui-n-ont-pas-ete-commitees" id="id15">Ecraser les dernière modif qui n’ont pas été commitées</a></p></li>
<li><p><a class="reference internal" href="#retirer-un-repertoire-de-l-index" id="id16">Retirer un répertoire de l’index</a></p></li>
<li><p><a class="reference internal" href="#lister-les-fichier-dossier-ignores" id="id17">lister les fichier dossier ignorés ?</a></p></li>
<li><p><a class="reference internal" href="#ratacher-la-tete" id="id18">Ratacher la tête</a></p></li>
<li><p><a class="reference internal" href="#annuler-le-dernier-commit" id="id19">Annuler le dernier commit</a></p></li>
<li><p><a class="reference internal" href="#lister-les-commit-d-une-branche-distante" id="id20">Lister les commit d’une branche distante</a></p></li>
<li><p><a class="reference internal" href="#depot-git-sur-cle-usb" id="id21">Dépôt git sur clé usb</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#reste-des-notes-xmind-a-transformer" id="id22">Reste des notes xmind a transformer</a></p></li>
<li><p><a class="reference internal" href="#weblinks" id="id23">Weblinks</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="git">
<h2><a class="toc-backref" href="#sommaire">git</a><a class="headerlink" href="#git" title="Lien permanent vers ce titre">¶</a></h2>
<p>penser au fichier xmind</p>
</div>
<div class="section" id="petits-trucs-utiles">
<h2><a class="toc-backref" href="#sommaire">petits trucs utiles</a><a class="headerlink" href="#petits-trucs-utiles" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="logiciels">
<h3><a class="toc-backref" href="#sommaire">Logiciels</a><a class="headerlink" href="#logiciels" title="Lien permanent vers ce titre">¶</a></h3>
<p><a class="reference external" href="https://www.gitkraken.com/">gitKraken</a> <a class="footnote-reference brackets" href="#id1" id="id2">1</a></p>
<p>Nécessite de créer un compte sur leur site ? Pourquoi au juste ?</p>
<p><a class="reference external" href="https://tortoisegit.org/">tortoisegit</a> <a class="footnote-reference brackets" href="#id3" id="id4">2</a></p>
<blockquote>
<div><ul class="simple">
<li><p>dl dans outils/conception</p></li>
<li><dl class="simple">
<dt>Ajoute un menu contextuel</dt><dd><p>avec plein de commandes</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="suppression-d-un-fichier">
<h3><a class="toc-backref" href="#sommaire">Suppression d’un fichier</a><a class="headerlink" href="#suppression-d-un-fichier" title="Lien permanent vers ce titre">¶</a></h3>
<p>git rm</p>
</div>
<div class="section" id="lister-les-fichiers-indexe">
<h3><a class="toc-backref" href="#sommaire">lister les fichiers indexé</a><a class="headerlink" href="#lister-les-fichiers-indexe" title="Lien permanent vers ce titre">¶</a></h3>
<p>A priori git ls-files</p>
<p>Fichiers pas suivis git ls-files -o, sous-entendu –others (au pluriel)</p>
</div>
<div class="section" id="mais-vers-ou-pointe-origine">
<h3><a class="toc-backref" href="#sommaire">Mais vers ou pointe origine</a><a class="headerlink" href="#mais-vers-ou-pointe-origine" title="Lien permanent vers ce titre">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p>git ls-remote</p></li>
<li><p>git remote show origin !!!</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="merger-un-seul-fichier">
<h3><a class="toc-backref" href="#sommaire">merger un seul fichier</a><a class="headerlink" href="#merger-un-seul-fichier" title="Lien permanent vers ce titre">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p>git fetch : recupère les branche distantes</p></li>
<li><p>git checkout La_branche contenant le fichier</p></li>
<li><p>git pull</p></li>
<li><p>retour sur la branche de travail</p></li>
<li><dl class="simple">
<dt>git checkout BRANCH FILE</dt><dd><ul>
<li><p>BRANCH : le nom de la branche</p></li>
<li><p>FILE : chemin d’acces au fichier</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>exemple data/index.html ?</p>
<p>Je me suis mis dans le dossier en question et je n’ai donné que le nom du fichier et cela fonctionne
sous-entendu sans le chemin complet.</p>
</div>
<div class="section" id="ecraser-les-derniere-modif-qui-n-ont-pas-ete-commitees">
<h3><a class="toc-backref" href="#sommaire">Ecraser les dernière modif qui n’ont pas été commitées</a><a class="headerlink" href="#ecraser-les-derniere-modif-qui-n-ont-pas-ete-commitees" title="Lien permanent vers ce titre">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p>git checkout – &lt;file&gt; (comme le signal la commande git status)</p></li>
<li><p>git reset –hard HEAD~1 (retour au dernier commit)</p></li>
<li><p>git rebase -i HEAD~10</p></li>
</ul>
<p>A propos de git reset –hard HEAD~1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">When</span> <span class="n">using</span> <span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">hard</span> <span class="n">HEAD</span><span class="o">~</span><span class="mi">1</span> <span class="n">you</span> <span class="n">will</span> <span class="n">lose</span> <span class="nb">all</span> <span class="n">uncommited</span> <span class="n">changes</span> <span class="ow">in</span> <span class="n">addition</span> <span class="n">to</span> <span class="n">the</span>
<span class="n">changes</span> <span class="n">introduced</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">last</span> <span class="n">commit</span><span class="o">.</span> <span class="n">The</span> <span class="n">changes</span> <span class="n">won</span><span class="s1">&#39;t stay in your working tree so doing</span>
<span class="n">a</span> <span class="n">git</span> <span class="n">status</span> <span class="n">command</span> <span class="n">will</span> <span class="n">tell</span> <span class="n">you</span> <span class="n">that</span> <span class="n">you</span> <span class="n">don</span><span class="s1">&#39;t have any changes in your repository.</span>
<span class="n">Tread</span> <span class="n">carefully</span> <span class="k">with</span> <span class="n">this</span> <span class="n">one</span><span class="o">.</span> <span class="n">If</span> <span class="n">you</span> <span class="n">accidentally</span> <span class="n">remove</span> <span class="n">uncommited</span> <span class="n">changes</span> <span class="n">which</span> <span class="n">were</span> <span class="n">never</span>
<span class="n">tracked</span> <span class="n">by</span> <span class="n">git</span> <span class="p">(</span><span class="n">speak</span><span class="p">:</span> <span class="n">committed</span> <span class="ow">or</span> <span class="n">at</span> <span class="n">least</span> <span class="n">added</span> <span class="n">to</span> <span class="n">the</span> <span class="n">index</span><span class="p">),</span> <span class="n">you</span> <span class="n">have</span> <span class="n">no</span> <span class="n">way</span> <span class="n">of</span> <span class="n">getting</span>
<span class="n">them</span> <span class="n">back</span> <span class="n">using</span> <span class="n">git</span><span class="o">.</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="retirer-un-repertoire-de-l-index">
<h3><a class="toc-backref" href="#sommaire">Retirer un répertoire de l’index</a><a class="headerlink" href="#retirer-un-repertoire-de-l-index" title="Lien permanent vers ce titre">¶</a></h3>
<p>Pour qu’il soit pris en compte par le git ignore:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">rm</span> <span class="o">--</span><span class="n">cached</span> <span class="o">-</span><span class="n">r</span> <span class="n">build</span>
</pre></div>
</div>
<p>A condition de faire le add avant</p>
<p>Puis de les retirer après de l’index</p>
</div>
<div class="section" id="lister-les-fichier-dossier-ignores">
<h3><a class="toc-backref" href="#sommaire">lister les fichier dossier ignorés ?</a><a class="headerlink" href="#lister-les-fichier-dossier-ignores" title="Lien permanent vers ce titre">¶</a></h3>
<p>git ls-files –others -i –exclude-standard:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">ls</span><span class="o">-</span><span class="n">files</span> <span class="o">--</span><span class="n">stage</span>
</pre></div>
</div>
<p>attention dans .gitignore un répertoire se termine par / et pas </p>
</div>
<div class="section" id="ratacher-la-tete">
<h3><a class="toc-backref" href="#sommaire">Ratacher la tête</a><a class="headerlink" href="#ratacher-la-tete" title="Lien permanent vers ce titre">¶</a></h3>
<p>Procédure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="o">-</span><span class="n">b</span> <span class="n">temp</span>
<span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">f</span> <span class="n">master</span> <span class="n">temp</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span>
<span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">d</span> <span class="n">temp</span>
</pre></div>
</div>
</div>
<div class="section" id="annuler-le-dernier-commit">
<h3><a class="toc-backref" href="#sommaire">Annuler le dernier commit</a><a class="headerlink" href="#annuler-le-dernier-commit" title="Lien permanent vers ce titre">¶</a></h3>
<p>Situation :
- des fichiers modifiés
- un fichier ajouté</p>
<p>Commandes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">add</span> <span class="n">fichierajouté</span>
<span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;texte&quot;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>ne commit que le nouveau fichier</p></li>
<li><p>la bonne commande eut été git commit -am « texte »</p></li>
<li><p>ou avant git add –all</p></li>
</ul>
<p>Besoin: supprimer ce commit pour le refaire avec l’option -am</p>
<div class="admonition warning">
<p class="admonition-title">Avertissement</p>
<p>Surtout pas git reset –hard HEAD, écrase toutes les modifs
Cette commmande permet de revenir à l’état du dernier commit (ne pas confondre)</p>
</div>
<p>Autres possibilités:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">revert</span>
<span class="n">ou</span> <span class="n">git</span> <span class="n">add</span> <span class="o">.</span> <span class="n">suivi</span> <span class="n">d</span><span class="s1">&#39;un git commit --amend</span>
</pre></div>
</div>
</div>
<div class="section" id="lister-les-commit-d-une-branche-distante">
<h3><a class="toc-backref" href="#sommaire">Lister les commit d’une branche distante</a><a class="headerlink" href="#lister-les-commit-d-une-branche-distante" title="Lien permanent vers ce titre">¶</a></h3>
<ul class="simple">
<li><p>Utile quand on est out of date</p></li>
<li><p>git remote show</p></li>
<li><p>git ls-remote</p></li>
</ul>
</div>
<div class="section" id="depot-git-sur-cle-usb">
<h3><a class="toc-backref" href="#sommaire">Dépôt git sur clé usb</a><a class="headerlink" href="#depot-git-sur-cle-usb" title="Lien permanent vers ce titre">¶</a></h3>
<p>Créer <a class="reference external" href="https://en.wikibooks.org/wiki/Git/Repository_on_a_USB_stick">un dépôt git sur une clé usb, sur wikibook</a> <a class="footnote-reference brackets" href="#id5" id="id6">3</a></p>
</div>
</div>
<div class="section" id="reste-des-notes-xmind-a-transformer">
<h2><a class="toc-backref" href="#sommaire">Reste des notes xmind a transformer</a><a class="headerlink" href="#reste-des-notes-xmind-a-transformer" title="Lien permanent vers ce titre">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>une ch&#39;tite commande sympa git log --pretty=oneline --abbrev-commit --graph --decorate
        trace l&#39;arborescence sous forme textuelle
clé SSH
        visiblement dépendante de l&#39;ordinateur non ?
        Au tout au moins réside dans un répertoire locale de la machine
        Comment les entrées dans un nouvel environnement ?
cherry-pick
        écrèmer
Lister les différences entre branches locale et branche distante
        git diff maBranche origin/branche
                ne se connecte pas au serveur en réalité
                fait la diff par rapport au copies locale
        avant faire un git fetch
git push
        Situation
                git local
                je veux le mettre sous github
                adding-an-existing-project-to-github-using-the-command-line/
                git push --all
                        from official ref
                        Push all branches (i.e. refs under refs/heads/); cannot be used with other &lt;refspec&gt;.
supprimer une branche distante
        git push origin : &lt;nombrancheasupprimer&gt;
Merge branche distante
        git pull non !
Traquer une nouvelle branche distante
        le 31/03
                avec tutoise
                on commence par un git fetch origin pour mettre à jour la base locale
                puis un checkout de la branche distante =&gt; créé une branche locale.
        git branch -- track &lt;branch&gt; &lt;branche_distante&gt;
créer un dépot distant sur le serveur du VoLAB
        git init --bare chemin
                attention dans la ligne de commande remplacer tous les \ par des /
                sur le serveur
                        le -- bare sur le serveur est mandatory sinon on se fait tej au moment du push
                        on ne sairait une fois pusher sur un rep avec un working dir ça se fait pas alley un
        en local
                soit changer origin si c&#39;est un dépot existant
Errors
        git cannot lock ref d&#39;une branche distante lors d&#39;un pull
                le fichier dans l&#39;arbo git était corrompu
lister les fichiers d&#39;une branche
        git ls-tree nom_de_la_branche -r (recursiv)
git fetch --prune
        nettoyage des liens pourri
merge d&#39;un répertoire d&#39;une autre branche
        git checkout branch chemin
Déplacer le dernier commit d&#39;une branche vers une autre branche
        git checkout l&#39;autre branche
        git merge la branche où se trouve le commit fautif
        git checkout la branche du commit fautif
        git reset --hard HEAD~1
</pre></div>
</div>
</div>
<div class="section" id="weblinks">
<h2><a class="toc-backref" href="#sommaire">Weblinks</a><a class="headerlink" href="#weblinks" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="footnote brackets">
<dt class="label" id="id1"><span class="brackets"><a class="fn-backref" href="#id2">1</a></span></dt>
<dd><p><a class="reference external" href="https://www.gitkraken.com/">https://www.gitkraken.com/</a></p>
</dd>
<dt class="label" id="id3"><span class="brackets"><a class="fn-backref" href="#id4">2</a></span></dt>
<dd><p><a class="reference external" href="https://tortoisegit.org/">https://tortoisegit.org/</a></p>
</dd>
<dt class="label" id="id5"><span class="brackets"><a class="fn-backref" href="#id6">3</a></span></dt>
<dd><p><a class="reference external" href="https://en.wikibooks.org/wiki/Git/Repository_on_a_USB_stick">https://en.wikibooks.org/wiki/Git/Repository_on_a_USB_stick</a></p>
</dd>
</dl>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table des matières</a></h3>
  <ul>
<li><a class="reference internal" href="#">Notes sur git</a><ul>
<li><a class="reference internal" href="#git">git</a></li>
<li><a class="reference internal" href="#petits-trucs-utiles">petits trucs utiles</a><ul>
<li><a class="reference internal" href="#logiciels">Logiciels</a></li>
<li><a class="reference internal" href="#suppression-d-un-fichier">Suppression d’un fichier</a></li>
<li><a class="reference internal" href="#lister-les-fichiers-indexe">lister les fichiers indexé</a></li>
<li><a class="reference internal" href="#mais-vers-ou-pointe-origine">Mais vers ou pointe origine</a></li>
<li><a class="reference internal" href="#merger-un-seul-fichier">merger un seul fichier</a></li>
<li><a class="reference internal" href="#ecraser-les-derniere-modif-qui-n-ont-pas-ete-commitees">Ecraser les dernière modif qui n’ont pas été commitées</a></li>
<li><a class="reference internal" href="#retirer-un-repertoire-de-l-index">Retirer un répertoire de l’index</a></li>
<li><a class="reference internal" href="#lister-les-fichier-dossier-ignores">lister les fichier dossier ignorés ?</a></li>
<li><a class="reference internal" href="#ratacher-la-tete">Ratacher la tête</a></li>
<li><a class="reference internal" href="#annuler-le-dernier-commit">Annuler le dernier commit</a></li>
<li><a class="reference internal" href="#lister-les-commit-d-une-branche-distante">Lister les commit d’une branche distante</a></li>
<li><a class="reference internal" href="#depot-git-sur-cle-usb">Dépôt git sur clé usb</a></li>
</ul>
</li>
<li><a class="reference internal" href="#reste-des-notes-xmind-a-transformer">Reste des notes xmind a transformer</a></li>
<li><a class="reference internal" href="#weblinks">Weblinks</a></li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="../documenter/documenter.html"
                        title="Chapitre précédent">Documenter</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="../docker/docker.html"
                        title="Chapitre suivant">Docker</a></p>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/git/git.rst.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="../docker/docker.html" title="Docker"
             >suivant</a> |</li>
        <li class="right" >
          <a href="../documenter/documenter.html" title="Documenter"
             >précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation MajorLee&#39;s notes </a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, J.SORANZO.
      Créé avec <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.0.
    </div>
  </body>
</html>